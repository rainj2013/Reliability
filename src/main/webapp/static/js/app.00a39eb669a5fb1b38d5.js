webpackJsonp([1,0],[function(t,a,s){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var i=s(8),r=e(i),n=s(7),l=e(n),o=s(5),c=e(o);s(1);var u=s(12),d=e(u),h=s(13),f=e(h),m=s(14),_=e(m);r.default.use(l.default),r.default.use(c.default);var p=[{path:"/",component:f.default},{path:"/addTask",component:f.default},{path:"/taskList",component:_.default}],v=new l.default({routes:p});new r.default({router:v,el:"#app",template:"<App/>",components:{App:d.default}})},function(t,a){},function(t,a){},function(t,a){},function(t,a){},,,,,function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"app"}},function(t,a,s){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var i=s(6),r=e(i);a.default={components:{FileUpload:r.default},filters:{formatSize:function(t){return t>1099511627776?(t/1024/1024/1024/1024).toFixed(2)+" TB":t>1073741824?(t/1024/1024/1024).toFixed(2)+" GB":t>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B"}},data:function(){return{addTaskSuccess:!1,addTaskFail:!1,algorithm:"IRE",remark:"",algorithmList:[{name:"IRE",args:"",isSelected:!0},{name:"CRE",args:"",isSelected:!1},{name:"ICRE",args:"",isSelected:!1},{name:"ILRE",args:"",isSelected:!1}],select:function(t){this.algorithm=t.name,this.algorithmList.forEach(function(t){t.isSelected=!1}),t.isSelected=!0},files:[],upload:[],events:{add:function(t,a){a.active=!0,t.headers["X-Filename"]=encodeURIComponent(t.name),t.data.finename=t.name}}}},computed:{fileName:function(){return console.warn(this.files),this.files[0].response.fileName},valid:function t(){var t={uploadError:!0,algorithmError:!0};return this.files[0]&&this.files[0].success&&(t.uploadError=!1),""!==this.algorithm&&(t.algorithmError=!1),t.pass=t.uploadError||t.algorithmError,t}},methods:{addTask:function(){var t=this;this.$http.post("/calculation/cal",{fileName:this.fileName,algoName:this.algorithm,remark:this.remark}).then(function(){t.addTaskSuccess=!0},function(a){t.addTaskFail=!0,console.error(a)})}},mounted:function(){this.upload=this.$refs.upload.$data}}},function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={filters:{formatDate:function(t){if(!t)return"无";var a=new Date(t),s={month:a.getMonth()+1,day:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),years:a.getFullYear()};return s.years+"-"+s.month+"-"+s.day+" "+s.hours+":"+s.minutes+":"+s.seconds},formatStatus:function(t){return 0===t?"计算中":1===t?"计算完成":2===t?"计算错误":"错误"}},watch:{$route:"fetchData"},created:function(){this.fetchData()},data:function(){return{loading:!1,error:null,items:[{id:"6c6824f5-284a-40d1-98a4-893a784c1b0a",resultFile:"xls/6c6824f5-284a-40d1-98a4-893a784c1b0a.xls",dataFile:"xls/a62849ce-7cbe-47ea-9438-32798814b5c4.xls",remark:"",algoName:"CRE",subTime:null,finTime:1479373843e3,status:0},{id:"6c6824f5-284a-40d1-98a4-893a784c1b0a",resultFile:"xls/6c6824f5-284a-40d1-98a4-893a784c1b0a.xls",dataFile:"xls/a62849ce-7cbe-47ea-9438-32798814b5c4.xls",remark:"",algoName:"CRE",subTime:1479373843e3,finTime:1479373843e3,status:1},{id:"6c6824f5-284a-40d1-98a4-893a784c1b0a",resultFile:"xls/6c6824f5-284a-40d1-98a4-893a784c1b0a.xls",dataFile:"xls/a62849ce-7cbe-47ea-9438-32798814b5c4.xls",remark:"测试",algoName:"CRE",subTime:1479373843e3,finTime:1479373843e3,status:2}]}},methods:{statusClassObject:function(t){return 1===t?{"text-success":!0}:2===t?{"text-danger":!0}:{"text-primary":!0}},fetchData:function(){var t=this;this.error=this.post=null,this.loading=!0,this.$http.post("/taskList/top",{fileName:this.fileName,algoName:this.algorithm,remark:this.remark}).then(function(a){t.loading=!1,t.items=a.body},function(a){t.error=a.toString()})}}}},function(t,a,s){var e,i;s(3),e=s(9);var r=s(16);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=e},function(t,a,s){var e,i;s(4),e=s(10);var r=s(17);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=e},function(t,a,s){var e,i;s(2),e=s(11);var r=s(15);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=e},function(t,a){t.exports={render:function(){var t=this;return t._h("div",[t._h("div",{staticClass:"container"},[t._m(0)," ",t.loading?t._h("div",{staticClass:"loading"},[t._m(1)]):t._e()," ",t._h("div",{staticClass:"row cs-content"},[t._h("div",{staticClass:"col-lg-6"},[t._h("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){t.$router.push("/addTask")}}},["+ 新建任务"])])," ",t._m(2)," ",t._h("div",{staticClass:"col-lg-12"},[t._h("table",{staticClass:"table table-list"},[t._m(3)," ",t._h("tbody",[t._l(t.items,function(a,s){return t._h("tr",[t._h("th",{attrs:{scope:"row"}},[t._s(s+1)])," ",t._h("td",[t._h("span",[t._s(a.remark)])])," ",t._h("td",[t._h("span",{staticClass:"text-primary"},[t._s(a.algoName)])])," ",t._h("td",[t._h("div",[t._h("span",{class:t.statusClassObject(a.status)},[t._s(t._f("formatStatus")(a.status))])])])," ",t._h("td",[t._h("div",{staticClass:"ip-cell"},[t._h("p",[t._h("span",{staticClass:"text-overflow m-width"},["上传时间:"+t._s(t._f("formatDate")(a.subTime))])])," ",t._h("p",[t._h("span",{staticClass:"text-overflow m-width"},["完成时间:"+t._s(t._f("formatDate")(a.finTime))])])])])," ",t._h("td",[t._h("div",{staticClass:"operate-cell"},[t._m(4,!0)," ",t._h("a",{attrs:{role:"button",href:"/download?resultFile="+a.resultFile}},["下载"])])])])})])])])," ",t._m(5)])])])},staticRenderFns:[function(){var t=this;return t._h("h3",["任务列表"])},function(){var t=this;return t._h("div",{staticClass:"text-xs-center"},["加载列表中......\n      "])},function(){var t=this;return t._h("div",{staticClass:"col-lg-6"},[t._h("div",{staticClass:"input-group"},[t._h("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"输入算法名/操作时间进行搜索..."}})])])},function(){var t=this;return t._h("thead",{staticClass:"thead-default"},[t._h("tr",[t._h("th",["#"])," ",t._h("th",["备注"])," ",t._h("th",["算法"])," ",t._h("th",["状态"])," ",t._h("th",["操作时间"])," ",t._h("th",["操作"])])])},function(){var t=this;return t._h("a",{attrs:{href:""}},["查看"])},function(){var t=this;return t._h("div",{staticClass:"col-lg-12"},[t._h("div",{staticClass:"list-split"},[t._h("div",{staticClass:"list-state"},[t._h("span",{staticClass:"tc-15-page-text"},["共",t._h("strong",["0"]),"条记录，当前页有",t._h("strong",["1"]),"条"])])])])}]}},function(t,a){t.exports={render:function(){var t=this;return t._h("div",{attrs:{id:"app"}},[t._h("nav",{staticClass:"topnav navbar-dark"},[t._h("div",{staticClass:"container"},[t._h("ul",{staticClass:"nav"},[t._h("li",{staticClass:"nav-item"},[t._h("router-link",{staticClass:"nav-link home",attrs:{to:"/taskList"}},["计算平台"])])," ",t._h("li",{staticClass:"nav-item"},[t._h("router-link",{staticClass:"nav-link",class:{active:"/taskList"===t.$route.fullPath},attrs:{to:"/taskList"}},["任务列表"])])," ",t._h("li",{staticClass:"nav-item"},[t._h("router-link",{staticClass:"nav-link",class:{active:"/addTask"===t.$route.fullPath},attrs:{to:"/addTask"}},["添加任务"])])])])])," ",t._h("div",{staticClass:"container"},[t._h("router-view")])])},staticRenderFns:[]}},function(t,a){t.exports={render:function(){var t=this;return t._h("div",[t._h("div",{staticClass:"container"},[t._h("div",{staticClass:"row"},[t._h("div",{staticClass:"col-xs-10"},[t._h("div",{staticClass:"form-group row"},[t._m(0)," ",t._h("div",{staticClass:"col-xs-4"},[t._h("file-upload",{ref:"upload",staticClass:"btn btn-secondary file-upload",attrs:{title:"上传文件",events:t.events,name:"xls","post-action":"/upload/xls",extensions:"xls,xlsx",files:t.files}})," ",t._m(1)])])," ",t._h("div",{staticClass:"form-group row"},[t._m(2)," ",t._h("div",{staticClass:"col-xs-6"},[t._l(t.files,function(a){return t._h("ul",{staticClass:"fileInfo"},[a.success?t._h("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._m(3,!0)]):t._e()," ",a.success?t._e():t._h("li",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._m(4,!0)])," ",t._h("li",["文件名："+t._s(a.name)])," ",t._h("li",["大小："+t._s(t._f("formatSize")(a.size))])])})," ",t._m(5)])])," ",t._h("div",{staticClass:"form-group row"},[t._m(6)," ",t._h("div",{staticClass:"col-xs-6"},[t._h("ul",{staticClass:"algorithm-select-list clearfix"},[t._l(t.algorithmList,function(a){return t._h("li",[t._h("a",{staticClass:"algorithm-select-item",class:{"algorithm-selected":a.isSelected},on:{click:function(s){t.select(a)}}},["\n                  "+t._s(a.name)+"\n                "])])})])])])," ",t._h("div",{staticClass:"form-group row"},[t._m(7)," ",t._h("div",{staticClass:"col-xs-4"},[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"form-control",attrs:{type:"text",placeholder:"remark"},domProps:{value:t._s(t.remark)},on:{input:function(a){a.target.composing||(t.remark=a.target.value)}}})," ",t._m(8)])])," ",t._h("div",{staticClass:"form-group row"},[t._m(9)," ",t._h("div",{staticClass:"col-xs-6"},[t._h("button",{staticClass:"btn btn-primary addTaskbtn",attrs:{type:"submit",disabled:t.valid.pass},on:{click:t.addTask}},["添加到任务列表"])," ",t.addTaskSuccess?t._h("span",{staticClass:"text-info"},["任务添加成功"]):t._e()," ",t.addTaskFail?t._h("span",{staticClass:"text-danger"},["任务添加失败"]):t._e()])])])])])])},staticRenderFns:[function(){var t=this;return t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["上传"])},function(){var t=this;return t._h("small",{staticClass:"form-text text-muted"},["请选择需要的.xls文件"])},function(){var t=this;return t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["信息"])},function(){var t=this;return t._h("strong",["上传成功!"])},function(){var t=this;return t._h("strong",["上传失败!"])},function(){var t=this;return t._h("small",{staticClass:"form-text text-muted"},["文件信息"])},function(){var t=this;return t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["算法"])},function(){var t=this;return t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["备注"])},function(){var t=this;return t._h("small",{staticClass:"form-text text-muted"},["添加备注以更方便标识任务"])},function(){var t=this;return t._h("label",{staticClass:"col-xs-1 col-form-label"})}]}}]);
//# sourceMappingURL=app.00a39eb669a5fb1b38d5.js.map