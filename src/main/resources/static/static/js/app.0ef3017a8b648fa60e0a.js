webpackJsonp([1,0],[function(t,s,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var i=a(9),l=e(i),r=a(8),n=e(r),o=a(6),c=e(o);a(2);var u=a(13),d=e(u),h=a(14),f=e(h),m=a(15),_=e(m);l.default.use(n.default),l.default.use(c.default);var p=[{path:"/",component:f.default},{path:"/addTask",component:f.default},{path:"/taskList",component:_.default}],v=new n.default({routes:p});new l.default({router:v,el:"#app",template:"<App/>",components:{App:d.default}})},function(t,s,a){t.exports=a.p+"static/img/logo_simple.958b001.png"},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,,,,function(t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"app"}},function(t,s,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=a(7),l=e(i);s.default={components:{FileUpload:l.default},watch:{addTaskSuccess:function(t){t&&this.changeFlag()},addTaskFail:function(t){t&&this.changeFlag()}},filters:{formatSize:function(t){return t>1099511627776?(t/1024/1024/1024/1024).toFixed(2)+" TB":t>1073741824?(t/1024/1024/1024).toFixed(2)+" GB":t>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B"}},data:function(){return{addTaskSuccess:!1,addTaskFail:!1,algorithm:"IRE",remark:"",algorithmList:[{name:"IRE",args:"",isSelected:!0},{name:"CRE",args:"",isSelected:!1},{name:"ICRE",args:"",isSelected:!1},{name:"ILRE",args:"",isSelected:!1},{name:"IRE3",args:"",isSelected:!1},{name:"CRE3",args:"",isSelected:!1}],select:function(t){this.algorithm=t.name,this.algorithmList.forEach(function(t){t.isSelected=!1}),t.isSelected=!0},files:[],upload:[],events:{add:function(t,s){s.active=!0,t.headers["X-Filename"]=encodeURIComponent(t.name),t.data.finename=t.name}}}},computed:{fileName:function(){return this.files[0].response.fileName},valid:function t(){var t={uploadError:!0,algorithmError:!0};return this.files[0]&&this.files[0].success&&(t.uploadError=!1),""!==this.algorithm&&(t.algorithmError=!1),t.pass=t.uploadError||t.algorithmError,t}},methods:{addTask:function(){var t=this;this.$http.post("/calculation/cal",{fileName:this.fileName,algoName:this.algorithm,remark:this.remark}).then(function(){t.addTaskSuccess=!0},function(s){t.addTaskFail=!0,console.error(s)})},changeFlag:function(){var t=this;setTimeout(function(){t.addTaskSuccess=!1,t.addTaskFail=!1},5e3)}},mounted:function(){this.upload=this.$refs.upload.$data}}},function(t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={filters:{formatDate:function(t){if(!t)return"无";var s=new Date(t),a={month:s.getMonth()+1,day:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),years:s.getFullYear()};return a.years+"-"+a.month+"-"+a.day+" "+a.hours+":"+a.minutes+":"+a.seconds},formatStatus:function(t){return 0===t?"计算中":1===t?"计算完成":2===t?"计算错误":"错误"}},watch:{$route:"fetchData"},created:function(){this.fetchData()},data:function(){return{loading:!1,error:null,searchQuery:"",items:[{id:"6c6824f5-284a-40d1-98a4-893a784c1b0a",resultFile:"xls/6c6824f5-284a-40d1-98a4-893a784c1b0a.xls",dataFile:"xls/a62849ce-7cbe-47ea-9438-32798814b5c4.xls",remark:"aaa",algoName:"CRE",subTime:null,finTime:1479373843e3,status:0}]}},computed:{filteredItems:function(){var t=this;return t.items.filter(function(s){return s.algoName.indexOf(t.searchQuery)!==-1||s.remark.includes(t.searchQuery)})}},methods:{statusClassObject:function(t){return 1===t?{"text-success":!0}:2===t?{"text-danger":!0}:{"text-primary":!0}},fetchData:function(){var t=this;this.error=this.post=null,this.loading=!0,this.$http.post("/taskList/top",{fileName:this.fileName,algoName:this.algorithm,remark:this.remark}).then(function(s){t.loading=!1,t.items=s.body},function(s){t.error=s.toString()})}}}},function(t,s,a){var e,i;a(4),e=a(10);var l=a(17);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=l.render,i.staticRenderFns=l.staticRenderFns,t.exports=e},function(t,s,a){var e,i;a(5),e=a(11);var l=a(18);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=l.render,i.staticRenderFns=l.staticRenderFns,t.exports=e},function(t,s,a){var e,i;a(3),e=a(12);var l=a(16);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=l.render,i.staticRenderFns=l.staticRenderFns,t.exports=e},function(t,s){t.exports={render:function(){var t=this;return t._h("div",[t._h("div",{staticClass:"container"},[t._h("h3",["任务列表"])," ",t.loading?t._h("div",{staticClass:"loading"},[t._h("div",{staticClass:"text-xs-center"},["加载列表中......\n      "])]):t._e()," ",t._h("div",{staticClass:"row cs-content"},[t._h("div",{staticClass:"col-lg-6"},[t._h("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){t.$router.push("/addTask")}}},["+ 新建任务"])])," ",t._h("div",{staticClass:"col-lg-6"},[t._h("div",{staticClass:"input-group"},[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入算法名/备注进行搜索..."},domProps:{value:t._s(t.searchQuery)},on:{input:function(s){s.target.composing||(t.searchQuery=s.target.value)}}})])])," ",t._h("div",{staticClass:"col-lg-12"},[t._h("table",{staticClass:"table table-list"},[t._m(0)," ",t._h("tbody",[t._l(t.filteredItems,function(s,a){return t._h("tr",[t._h("th",{attrs:{scope:"row"}},[t._s(a+1)])," ",t._h("td",[t._h("span",[t._s(s.remark)])])," ",t._h("td",[t._h("span",{staticClass:"text-primary"},[t._s(s.algoName)])])," ",t._h("td",[t._h("div",[t._h("span",{class:t.statusClassObject(s.status)},[t._s(t._f("formatStatus")(s.status))])])])," ",t._h("td",[t._h("div",{staticClass:"ip-cell"},[t._h("p",[t._h("span",{staticClass:"text-overflow m-width"},["上传时间:"+t._s(t._f("formatDate")(s.subTime))])])," ",t._h("p",[t._h("span",{staticClass:"text-overflow m-width"},["完成时间:"+t._s(t._f("formatDate")(s.finTime))])])])])," ",t._h("td",[t._h("div",{staticClass:"operate-cell"},[t._h("a",{attrs:{href:""}},["查看"])," ",1===s.status?t._h("a",{attrs:{role:"button",href:"/download?resultFile="+s.resultFile}},["下载"]):t._e()])])])})])])])," ",t._m(1)])])])},staticRenderFns:[function(){var t=this;return t._h("thead",{staticClass:"thead-default"},[t._h("tr",[t._h("th",["#"])," ",t._h("th",["备注"])," ",t._h("th",["算法"])," ",t._h("th",["状态"])," ",t._h("th",["操作时间"])," ",t._h("th",["操作"])])])},function(){var t=this;return t._h("div",{staticClass:"col-lg-12"},[t._h("div",{staticClass:"list-split"},[t._h("div",{staticClass:"list-state"},[t._h("span",{staticClass:"tc-15-page-text"},["共",t._h("strong",["0"]),"条记录，当前页有",t._h("strong",["1"]),"条"])])])])}]}},function(t,s,a){t.exports={render:function(){var t=this;return t._h("div",{attrs:{id:"app"}},[t._h("nav",{staticClass:"topnav navbar-dark"},[t._h("div",{staticClass:"container"},[t._h("ul",{staticClass:"nav"},[t._h("li",{staticClass:"nav-item"},[t._h("img",{staticStyle:{width:"40px"},attrs:{src:a(1)}})," ",t._h("router-link",{staticClass:"nav-link home",attrs:{to:"/taskList"}},[" 多功能推理计算平台"])])," ",t._h("li",{staticClass:"nav-item"},[t._h("router-link",{staticClass:"nav-link",class:{active:"/taskList"===t.$route.fullPath},attrs:{to:"/taskList"}},["任务列表"])])," ",t._h("li",{staticClass:"nav-item"},[t._h("router-link",{staticClass:"nav-link",class:{active:"/addTask"===t.$route.fullPath},attrs:{to:"/addTask"}},["添加任务"])])])])])," ",t._h("div",{staticClass:"container"},[t._h("router-view")])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this;return t._h("div",[t._h("div",{staticClass:"container"},[t._h("div",{staticClass:"row"},[t._h("div",{staticClass:"col-xs-10"},[t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["上传"])," ",t._h("div",{staticClass:"col-xs-4"},[t._h("file-upload",{ref:"upload",staticClass:"btn btn-secondary file-upload",attrs:{title:"上传文件",events:t.events,name:"xls","post-action":"/upload/xls",extensions:"xls,xlsx",files:t.files}})," ",t._h("small",{staticClass:"form-text text-muted"},["请选择需要的.xls文件"])])])," ",t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["信息"])," ",t._h("div",{staticClass:"col-xs-6"},[t._l(t.files,function(s){return t._h("ul",{staticClass:"fileInfo"},[s.success?t._h("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._h("strong",["上传成功!"])]):t._e()," ",s.success?t._e():t._h("li",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._h("strong",["上传失败!"])])," ",t._h("li",["文件名："+t._s(s.name)])," ",t._h("li",["大小："+t._s(t._f("formatSize")(s.size))])])})," ",t._h("small",{staticClass:"form-text text-muted"},["文件信息"])])])," ",t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["算法"])," ",t._h("div",{staticClass:"col-xs-6"},[t._h("ul",{staticClass:"algorithm-select-list clearfix"},[t._l(t.algorithmList,function(s){return t._h("li",[t._h("a",{staticClass:"algorithm-select-item",class:{"algorithm-selected":s.isSelected},on:{click:function(a){t.select(s)}}},["\n                  "+t._s(s.name)+"\n                "])])})])])])," ",t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label metatit"},["备注"])," ",t._h("div",{staticClass:"col-xs-4"},[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"form-control",attrs:{type:"text",placeholder:"remark"},domProps:{value:t._s(t.remark)},on:{input:function(s){s.target.composing||(t.remark=s.target.value)}}})," ",t._h("small",{staticClass:"form-text text-muted"},["添加备注以更方便标识任务"])])])," ",t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label"})," ",t._h("div",{staticClass:"col-xs-6"},[t._h("button",{staticClass:"btn btn-primary addTaskbtn",attrs:{type:"submit",disabled:t.valid.pass},on:{click:t.addTask}},["添加到任务列表"])])])," ",t.addTaskSuccess?t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label"})," ",t._m(0)]):t._e()," ",t.addTaskFail?t._h("div",{staticClass:"form-group row"},[t._h("label",{staticClass:"col-xs-1 col-form-label"})," ",t._m(1)]):t._e()])])])])},staticRenderFns:[function(){var t=this;return t._h("div",{staticClass:"col-xs-5"},[t._h("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._h("h5",{staticClass:"alert-heading"},["任务添加成功!"])," ",t._h("p",["你可以到任务列表查看任务情况，或者继续添加任务！"])])])},function(){var t=this;return t._h("div",{staticClass:"col-xs-5"},[t._h("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._h("h5",{staticClass:"alert-heading"},["任务添加失败!"])," ",t._h("p",["请检查参数是否正确再重试。"])])])}]}}]);
//# sourceMappingURL=app.0ef3017a8b648fa60e0a.js.map